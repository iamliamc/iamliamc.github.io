<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Not Wrong Studios</title>
    <link rel="shortcut icon" type="image/jpg" href="imgs/favicon.ico"/>
    <meta name="description" content="Not Wrong Studios">
    <meta name="Not Wrong Studios" content="Grand Rapids, MI">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans|Open+Sans' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!--CDN link for  TweenMax-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <!--CDN links for TweenLite, CSSPlugin, and EasePack-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/plugins/CSSPlugin.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/easing/EasePack.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenLite.min.js"></script>
    <link rel="stylesheet" href="css/custom_styles.css">
    <script type="text/javascript">
        $(document).ready(function() {
            //Link_content1
            $('#spanish_inquisition').click(function() {
                $('#infospace').hide().html('<p>The meaning of the passage is righteous!</p><img src="imgs/2.jpg" alt="IMG 2" class="img-rounded center-block img-responsive">').fadeIn(2500);
                $("#myAudio").unbind('timeupdate', timeTrigger);
            });

            //Link_content2
            $('#scorched_earth').click(function() {
                $('#infospace').hide().html('<p>Here is some more learning for your dumbass</p><img src="imgs/1.jpg" alt="IMG 1" class="img-rounded center-block img-responsive">').fadeIn(2500)
            });

            //Link_content3
            $('#newspeak').click(function() {
                $('#infospace').hide().html('<p>Here is some more learning for your dumbass</p><img src="imgs/5.jpg" alt="IMG 1" class="img-rounded center-block img-responsive">').fadeIn(2500)
            });

            //Tween Page Line
            TweenMax.fromTo('#lyrics', 5, {
                "border-right": '1px dashed rgba(139, 133, 137, 1)'
            }, {
                "border-right": '1px dashed rgba(139, 133, 137, 0)',
                repeat: -1,
                yoyo: true
            });

            /// https://stackoverflow.com/questions/8858994/let-user-scrolling-stop-jquery-animation-of-scrolltop
            var $viewport = $('html, body');

            // Some event to trigger the scroll animation (with a nice ease - requires easing plugin )...
            $('#myAudio').on('playing', function() {
                console.log("BOOOOOOM!")
                $viewport.animate({ 
                    scrollTop: 200 // set scrollTarget to your desired position
                }, 20000);
            });

            // Stop the animation if the user scrolls. Defaults on .stop() should be fine
            $viewport.bind("scroll mousedown DOMMouseScroll mousewheel keyup touchstart", function(e){
                if ( e.which > 0 || e.type === "mousedown" || e.type === "mousewheel" || e.type === "touchstart"){
                    $viewport.stop().unbind('scroll mousedown DOMMouseScroll mousewheel keyup'); // This identifies the scroll as a user action, stops the animation, then unbinds the event straight after (optional)
                }
            });    


            // function emptySpot() {
            //   $('#infospace').hide().html('').fadeIn(2500);
            //   bindBreaker();
            // }

            function sleep(milliseconds) {
                var start = new Date().getTime();
                for (var i = 0; i < 1e7; i++) {
                    if ((new Date().getTime() - start) > milliseconds) {
                        break;
                    }
                }
            }

            // function bindBreaker() {
            //   $("#myAudio").unbind('timeupdate').bind('timeupdate', emptySpot);
            //
            // }

            // myAudio = document.getElementById("myAudio");
            // audioTime = myAudio.currentTime;
            // myAudio.ontimeupdate = function() {
            //     myFunction()
            // };
            //
            // var firstLoop = true;
            // function myFunction() {
            //       if (2 <= Math.floor(audioTime) && 4 >= Math.floor(audioTime) && firstLoop) {
            //           $('#infospace').hide().html('<p>This time the time rules</p><img src="imgs/4.jpg" alt="IMG 4" class="img-rounded center-block img-responsive">').fadeIn(2500);
            //           firstLoop = false;
            //       };
            //
            //     // Display the current position of the video in a p element with id="demo"
            //     // document.getElementById("demo").innerHTML = vid.currentTime;
            // };

            //Based_on_time - keeps running for the whole thing
            $("#myAudio").bind('timeupdate', timeTrigger);
            var firstLoop = true;
            var firstLoop2 = true;
            var firstLoop3 = true;
            function timeTrigger() {
                console.log("Made it into the timeTrigger function");
                myAudio = document.getElementById("myAudio");
                audioTime = myAudio.currentTime;
                //console.log(Math.floor(audioTime));
                if (2 <= Math.floor(audioTime) && 4 >= Math.floor(audioTime) && firstLoop) {
                    $('#infospace').hide().html('<p>This time the time rules</p><img src="imgs/4.jpg" alt="IMG 4" class="img-rounded center-block img-responsive">').fadeIn(2500);
                    firstLoop = false;
                };
                if (10 <= Math.floor(audioTime) && 22 >= Math.floor(audioTime) && firstLoop2) {
                    $('#infospace').hide().html('<p>Can\'t stop won\'t stop</p><img src="imgs/5.jpg" alt="IMG 5" class="img-rounded center-block img-responsive">').fadeIn(2500);
                    firstLoop2 = false;
                };
                if (24 <= Math.floor(audioTime) && 30 >= Math.floor(audioTime) && firstLoop3) {
                    $('#infospace').hide().html('<p>Can\'t stop won\'t stop</p><img src="imgs/1.jpg" alt="IMG 5" class="img-rounded center-block img-responsive">').fadeIn(2500);
                    firstLoop3 = false;
                };
            };
            timeTrigger();
            var lyricsLink = $('#lyricsList').find('a');

        });
    </script>
</head>

<body id="linkfest">
    <div class="container-fluid">
        <div class="row" id="lyricsList">
            <div id="lyrics" class="border col-md-6 col-xs-6 text-center" style="margin-top:5%; font-family: 'Droid Sans', sans-serif; font-size: 2vw; border-right: 1px dashed rgba(139, 133, 137, 1);">
                <p>I hate the fact that assholes</p>
                <p>Run the whole planet</p>
                <p>Iâ€™ve fought em for generations </p>
                <p>Since I was a cave man</p>
                <a id="spanish_inquisition">
                    <p>Spanish inquisition</p>
                </a>
                <p>Modern day arraignment</p>
                <a id="scorched_earth"><p>Scorched Earth</p></a>
                <p>Scorched Sky</p>
                <p>Bring back the rain dance</p>
                <p>Outerspace k-pac</p>
                <p>Wikileaks diplomat</p>
                <p>9/11 epitaphs</p>
                <p>Drug war underclass</p>
                <p>Class war redefined</p>
                <p>Define war</p>
                <p>War is peace</p>
                <a id="newspeak"><p>Newspeak</p></a>
                <p>Speak your peace</p>
                <p>Peace of mind</p>
                <p>Is hard to reach</p>
            </div>
            <div class="col-xs-3 col-xs-offset-1 sidebar-outer">
                <div id="infospace" class="border col-md-4 col-xs-3 top-buffer text-center fixed" style="font-family: 'Droid Sans', sans-serif; font-size: 2vw;">
                    <p></p>
                </div>
                <audio id="myAudio" controls autoplay style="position: fixed; width: 60vh; bottom: 5%;">
                  <source src="audio/ophelia.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>
    </div>
</body>
<footer class="footer">
    <div class="container">
        <p class="text-muted">Made in: Grand Rapids, MI</p>
    </div>
</footer>

</html>
